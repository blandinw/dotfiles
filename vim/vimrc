"pathogen
filetype off
call pathogen#runtime_append_all_bundles()
call pathogen#helptags()

set nocp

"appearance
syntax on
set number
set title
colorscheme ir_black

"indent
set autoindent smartindent
set shiftwidth=4 softtabstop=4
set expandtab

"search
set ignorecase "Ignore case when searching
set smartcase
set hlsearch "Highlight search things
set incsearch "Make search act like search in modern browsers
set magic "Set magic on, for regular expressions

"wrap
set wrap

"sets how many lines of history VIM has to remember
set history=300

"autocompletion in menu
set wildmenu
set wildignore+=*.o,*.obj,.git,*.pyc
set wildignore+=app/cache/*,app/logs/* "symfony2

"backups
set backup backupext=~ backupdir=~/backups/vim_backups/

"statusline
set laststatus=2
set statusline=\ %F%m%r%h\ %w\ \ Line:\ %l/%L:%c

set hidden "no need to write to disk when closing file

"neat bindings
map <leader>` :e#<CR>
map <C-h> :silent :let @/ = ""<CR>

"filetype
filetype on
filetype plugin on
filetype indent on

"ruby
au BufRead,BufNewFile {Gemfile,Rakefile,Vagrantfile,Thorfile,config.ru} set ft=ruby
au FileType ruby set shiftwidth=2
au FileType ruby set softtabstop=2
au FileType eruby set shiftwidth=2
au FileType eruby set softtabstop=2

"python
au FileType python set omnifunc=pythoncomplete#Complete

"html
au FileType html set omnifunc=htmlcomplete#CompleteTags sw=2 sts=2

"css
au FileType css set omnifunc=csscomplete#CompleteCSS

"jinja
au BufNewFile,BufRead {*twig*,*jinja*} set ft=htmljinja

"javascript
au FileType javascript set shiftwidth=4
au FileType javascript set softtabstop=4
au FileType javascript set omnifunc=javascriptcomplete#CompleteJS
au BufNewFile,BufRead *.ejs set ft=html
au BufNewFile,BufRead *.jst set ft=html

"coffee
au BufNewFile,BufRead *.coffee set shiftwidth=2
au BufNewFile,BufRead *.coffee set softtabstop=2

"php
au FileType php set shiftwidth=4
au FileType php set tabstop=4

"haskell
au BufEnter *.hs compiler ghc

"prolog
function! PrologRun ()
    silent! !osascript -e 'tell application "terminal" to do script "clear;cd %:p:h;gprolog --entry-goal \"consult(%:r)\""'
    silent! !osascript -e 'tell application "terminal" to activate'
endfunction
command -nargs=* PrologRun call PrologRun()

"unmap arrow keys
nmap <right> <nop>
nmap <left> <nop>
nmap <up> <nop>
nmap <down> <nop>
imap <left> <nop>
imap <up> <nop>
imap <down> <nop>

"load plugins configz
runtime plugins.vim
